# 数据库登录

```sql
mysql -u root -p  // root 是数据库用户名
// 或者
mysql -uroot -p1234  // 1234 是数据库密码 root 是数据库用户名
//修改密码
      
mysqladmin -uroot -p1234 password '123456' // 123456 是新密码
```

## 操作文件夹（库）
```sql
 // 增加库
create database db_name charset utf8;
 // 查看库
show create database db_name;
 // 查看所有的数据库
show databases;
 // 改库
alter database db_name charset gbk;
 // 删除库
drop database db_name;
 // 切换库
use db_name;
 // 查看当前库
select database();
```
## 操作文件（表）
```sql
-- 增加表
create table table_name(id int, name char);
-- 查看表
show create table table_name;
-- 查看所有的表
show tables;
-- 查看表结构
desc table_name;
-- 改表
alter table table_name add column age int;
alter table table_name modify name char(6);
alter table table_name change name NAME char(7);
-- 删除表
drop table table_name;
```
### 改表具体语法
```sql
--添加列
ALTER TABLE table_name ADD COLUMN column_name column_definition;
ALTER TABLE users ADD COLUMN age INT; //添加 age 列
-- 删除列
ALTER TABLE table_name DROP COLUMN column_name;
ALTER TABLE users DROP COLUMN age; //删除 age 列
--修改列数据类型或属性
ALTER TABLE table_name MODIFY COLUMN column_name new_definition;
ALTER TABLE users MODIFY COLUMN age TINYINT; //修改 age 列的数据类型为 TINYINT
-- 重命名列
ALTER TABLE table_name CHANGE COLUMN old_name new_name column_definition;   
ALTER TABLE users CHANGE COLUMN age user_age INT;  //将 age 列重命名为 user_age
-- 重命名表
ALTER TABLE old_table_name RENAME TO new_table_name;
ALTER TABLE users RENAME TO customers; //将 users 表重命名为 customers
--添加索引
ALTER TABLE table_name ADD INDEX index_name (column_name);
ALTER TABLE users ADD INDEX idx_name (name); //为 name 列添加索引
-- 删除索引
ALTER TABLE table_name DROP INDEX index_name;
ALTER TABLE users DROP INDEX idx_name; // 删除名为 idx_name 的索引
--修改表的存储引擎
ALTER TABLE table_name ENGINE = new_engine;
ALTER TABLE users ENGINE = InnoDB; // 将 users 表的存储引擎改为 InnoDB
--添加外键约束
ALTER TABLE table_name ADD CONSTRAINT fk_name FOREIGN KEY (column_name) REFERENCES other_table(column_name);
ALTER TABLE orders ADD CONSTRAINT fk_user_id FOREIGN KEY (user_id) REFERENCES users(id); // 为 orders 表的 user_id 添加外键约束，引用 users 表的 id
--删除外键约束
ALTER TABLE table_name DROP FOREIGN KEY fk_name;
ALTER TABLE orders DROP FOREIGN KEY fk_user_id; // 删除 orders 表中的外键约束 fk_user_id
--设置默认值
ALTER TABLE table_name ALTER COLUMN column_name SET DEFAULT default_value;
ALTER TABLE users ALTER COLUMN age SET DEFAULT 18; //为 age 列设置默认值 18
--删除默认值
ALTER TABLE table_name ALTER COLUMN column_name DROP DEFAULT;
ALTER TABLE users ALTER COLUMN age DROP DEFAULT; //删除 age 列的默认值
```
### 复制表
```sql
--复制表结构和数据
CREATE TABLE new_table_name AS SELECT * FROM original_table_name;
CREATE TABLE new_table_name AS SELECT * FROM original_table_name; // 将 original_table_name 的表结构和数据复制到 new_table_name
--只复制表结构（不复制数据）
CREATE TABLE new_table_name LIKE original_table_name;
CREATE TABLE new_table_name LIKE original_table_name; // 将 original_table_name 的表结构复制到 new_table_name，但不复制数据
--复制部分数据
CREATE TABLE new_table_name AS SELECT column1, column2, ... FROM original_table_name WHERE condition;
CREATE TABLE new_table_name AS SELECT id, name FROM original_table_name WHERE id > 10; // 将满足条件的数据复制到 new_table_name
```
## 操作文件内容（记录）
```sql
-- 增加记录
insert table_name(id,name) values (1,'eg1'),(2,'eg2'),(3,'eg3');
-- 查看记录
select id, name from table_name; // 在当前库
select id, name from db_name.table_name // 在其他库
select * from table_name; // 查看所有字段
-- 修改记录
update db_name.table_name set name="SB";
update db_name.table_name set name="SB" where id=3;
-- 删除记录
delete from table_name; // 删除整张表数据
delete from table_name where id=3; // 删除id为3的那条数据
```

# 存储引擎 -- 表的类型
```sql
-- 查看所有支持的存储引擎
show engines;
-- 查看正在使用的存储引擎
SHOW VARIABLES LIKE 'default_storage_engine';
-- 创建表时指定存储引擎
CREATE TABLE table_name (
    id INT PRIMARY KEY,
    name VARCHAR(100)
) ENGINE=InnoDB;
-- 修改现有表的存储引擎
ALTER TABLE table_name ENGINE=InnoDB;
```

## 整数类型
```sql
整数类型 TINYINT SMALLINT MEDIUMINT INT BIGINT
作用 存储年龄 等级 id 各种号码等
浮点类型 FLAOAT DOUBLE DECIMAL
作用 存储薪资 身高 体重 体制参数等
```

## 时间类型
```sql
year data    time      datatime
年  年-月-日  时-分-秒   年-月-日 时-分-秒
```

## 字符类型
```sql
char : 定长
varchar: 变长
```